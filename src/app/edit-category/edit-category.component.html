

<div class="container">
    <h1 class="mt-3">Edit Category</h1>

    <!--the if part of the *ngIf directive-->
    <ng-container *ngIf="category;else notFound">
       <!--This is the beginning of the Form considering that the *ngIf directive is true-->

        <form #form="ngForm" (ngSubmit)="onFormSubmit(form)">

          <div class="mt-2">
            <div class="mt-3">
                <label class="form-label" for="categoryId">Category Id</label>
                <input type="text" disabled  id="categoryId" class="form-control" name ="categoryId" 
                value="{{category.id}}">
          </div>

          <div class="mt-3">
            <label   class="form-label" for="categoryName">Category Name</label>
            <input ngModel #categoryName = "ngModel" type="text"   id="categoryName" class="form-control" name ="categoryName" 
            [(ngModel)]="category.name" required>
      </div>
      <div class="alert alert-danger" *ngIf= "categoryName.invalid && categoryName.touched" > Category name cannot be empty </div>

      <div class="mt-3">
        <label class="form-label" for="categoryUrlHandle">Category Url Handle</label>
        <input ngModel #categoryUrlHandle = "ngModel" type="text"   id="categoryUrlHandle" class="form-control" name ="categoryUrlHandle" 
        [(ngModel)]="category.urlHandle" required>
   </div>
   <div class="alert alert-danger" *ngIf= "categoryUrlHandle.invalid && categoryUrlHandle.touched" >categoryUrlHandle cannot be empty</div>
   </div>

   <div class="mt-3  d-flex">
       <button type="submit" class="btn btn-primary" [disabled]="form.invalid"> Save </button>
       <button type="button" class="btn btn-danger ms-3" data-bs-toggle="modal" data-bs-target="#exampleModal">Delete</button>
       


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel"> Confirm Delete</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Are you sure?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" >Cancel</button>
        <button type="button" class="btn btn-danger"  data-bs-dismiss="modal" (click)="onDelete()">Delete</button>
        
      </div>
      </div>
  </div>
</div>

       
   </div>

   

  </form>
    </ng-container>
    
    <!--The else block of the *ngIf directive-->
    <ng-template #notFound>
        <div class="alert alert-warning" role="alert">
             Category not Found!
          </div>
    </ng-template> 
    
</div>



